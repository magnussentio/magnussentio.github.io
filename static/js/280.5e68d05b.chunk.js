"use strict";(self.webpackChunkbrainborne=self.webpackChunkbrainborne||[]).push([[280],{49204:function(e,t,r){var n,a,s,i,o=r(43269).default,u=r(81109).default,c=r(87757),d=r(48926).default,f=r(34575).default,l=r(93913).default,h=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var w=r(59594),y=r(51935),g=v(r(59863)),x=v(r(54424)),m=v(r(87691)),k=r(88781),S=r(28079),b=v(r(31702)),A=r(75443),T=function(){function e(){f(this,e),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),i.set(this,void 0)}return l(e,[{key:"init",value:function(){var e=d(c.mark((function e(t){var r,o,u,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,o=t.safeAddress,u=t.isL1SafeMasterCopy,d=t.contractNetworks,h(this,n,r,"f"),e.t0=h,e.t1=this,e.t2=a,e.next=7,g.default.create({ethAdapter:p(this,n,"f"),safeAddress:o,isL1SafeMasterCopy:u,contractNetworks:d});case 7:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3,"f"),h(this,s,new m.default(p(this,n,"f"),p(this,a,"f").safeContract),"f"),h(this,i,new x.default(p(this,n,"f"),p(this,a,"f").safeContract),"f");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var t=d(c.mark((function t(r){var s,i,o,u;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.ethAdapter,i=r.safeAddress,o=r.isL1SafeMasterCopy,u=r.contractNetworks,t.next=3,e.create({ethAdapter:s||p(this,n,"f"),safeAddress:i||this.getAddress(),isL1SafeMasterCopy:o||p(this,a,"f").isL1SafeMasterCopy,contractNetworks:u||p(this,a,"f").contractNetworks});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAddress",value:function(){return p(this,a,"f").safeContract.getAddress()}},{key:"getContractManager",value:function(){return p(this,a,"f")}},{key:"getEthAdapter",value:function(){return p(this,n,"f")}},{key:"getMultiSendAddress",value:function(){return p(this,a,"f").multiSendContract.getAddress()}},{key:"getContractVersion",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,a,"f").safeContract.getVersion());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getOwners",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,s,"f").getOwners());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNonce",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,a,"f").safeContract.getNonce());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getThreshold",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,s,"f").getThreshold());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,n,"f").getChainId());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,n,"f").getBalance(this.getAddress()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModules",value:function(){var e=d(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,i,"f").getModules());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isModuleEnabled",value:function(){var e=d(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,i,"f").isModuleEnabled(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isOwner",value:function(){var e=d(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this,s,"f").isOwner(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTransaction",value:function(){var e=d(c.mark((function e(t,r){var s,i,o,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,k.isMetaTransactionArray)(t)||0!==t.length){e.next=2;break}throw new Error("Invalid empty array of transactions");case 2:return(0,k.isMetaTransactionArray)(t)&&t.length>1?(i=(0,A.encodeMultiSendData)(t.map(A.standardizeMetaTransactionData)),o=u(u({},r),{},{to:p(this,a,"f").multiSendContract.getAddress(),value:"0",data:p(this,a,"f").multiSendContract.encode("multiSend",[i]),operation:y.OperationType.DelegateCall}),s=o):s=(0,k.isMetaTransactionArray)(t)?u(u({},r),t[0]):t,e.next=5,(0,A.standardizeSafeTransactionData)(p(this,a,"f").safeContract,p(this,n,"f"),s);case 5:return d=e.sent,e.abrupt("return",new b.default(d));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createRejectionTransaction",value:function(){var e=d(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createTransaction({to:this.getAddress(),nonce:t,value:"0",data:"0x",safeTxGas:0}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransactionHash",value:function(){var e=d(c.mark((function e(t){var r,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,e.next=3,p(this,a,"f").safeContract.getTransactionHash(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransactionHash",value:function(){var e=d(c.mark((function e(t){var r,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOwners();case 2:return r=e.sent,e.next=5,p(this,n,"f").getSignerAddress();case 5:if(a=e.sent,r.find((function(e){return a&&(0,k.sameString)(e,a)}))){e.next=9;break}throw new Error("Transactions can only be signed by Safe owners");case 9:return e.abrupt("return",(0,S.generateSignature)(p(this,n,"f"),t));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=d(c.mark((function e(t){var r,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransactionHash(t);case 2:return r=e.sent,e.next=5,this.signTransactionHash(r);case 5:n=e.sent,t.addSignature(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveTransactionHash",value:function(){var e=d(c.mark((function e(t,r){var s,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOwners();case 2:return s=e.sent,e.next=5,p(this,n,"f").getSignerAddress();case 5:if(i=e.sent,s.find((function(e){return i&&(0,k.sameString)(e,i)}))){e.next=9;break}throw new Error("Transaction hashes can only be approved by Safe owners");case 9:if(!(null===r||void 0===r?void 0:r.gas)||!(null===r||void 0===r?void 0:r.gasLimit)){e.next=11;break}throw new Error("Cannot specify gas and gasLimit together in transaction options");case 11:return e.abrupt("return",p(this,a,"f").safeContract.approveHash(t,u({from:i},r)));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getOwnersWhoApprovedTx",value:function(){var e=d(c.mark((function e(t){var r,n,s,i,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOwners();case 2:r=e.sent,n=[],s=o(r),e.prev=5,s.s();case 7:if((i=s.n()).done){e.next=15;break}return u=i.value,e.next=11,p(this,a,"f").safeContract.approvedHashes(u,t);case 11:e.sent.gt(0)&&n.push(u);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getEnableModuleTx",value:function(){var e=d(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=5,p(this,i,"f").encodeEnableModuleData(t);case 5:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=11,e.t0.createTransaction.call(e.t0,e.t6);case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getDisableModuleTx",value:function(){var e=d(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=5,p(this,i,"f").encodeDisableModuleData(t);case 5:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=11,e.t0.createTransaction.call(e.t0,e.t6);case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAddOwnerTx",value:function(){var e=d(c.mark((function e(t,r){var n,a,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ownerAddress,a=t.threshold,e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=6,p(this,s,"f").encodeAddOwnerWithThresholdData(n,a);case 6:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=12,e.t0.createTransaction.call(e.t0,e.t6);case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getRemoveOwnerTx",value:function(){var e=d(c.mark((function e(t,r){var n,a,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ownerAddress,a=t.threshold,e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=6,p(this,s,"f").encodeRemoveOwnerData(n,a);case 6:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=12,e.t0.createTransaction.call(e.t0,e.t6);case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSwapOwnerTx",value:function(){var e=d(c.mark((function e(t,r){var n,a,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldOwnerAddress,a=t.newOwnerAddress,e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=6,p(this,s,"f").encodeSwapOwnerData(n,a);case 6:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=12,e.t0.createTransaction.call(e.t0,e.t6);case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getChangeThresholdTx",value:function(){var e=d(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=u,e.t2=this.getAddress(),e.next=5,p(this,s,"f").encodeChangeThresholdData(t);case 5:return e.t3=e.sent,e.t4={to:e.t2,value:"0",data:e.t3},e.t5=r,e.t6=(0,e.t1)(e.t4,e.t5),e.next=11,e.t0.createTransaction.call(e.t0,e.t6);case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"executeTransaction",value:function(){var e=d(c.mark((function e(t,r){var s,i,d,f,l,h,v,y,g,x,m,k;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransactionHash(t);case 2:return s=e.sent,e.next=5,this.getOwnersWhoApprovedTx(s);case 5:i=e.sent,d=o(i);try{for(d.s();!(f=d.n()).done;)l=f.value,t.addSignature((0,S.generatePreValidatedSignature)(l))}catch(c){d.e(c)}finally{d.f()}return e.next=10,this.getOwners();case 10:return h=e.sent,e.next=13,p(this,n,"f").getSignerAddress();case 13:return v=e.sent,h.includes(v)&&t.addSignature((0,S.generatePreValidatedSignature)(v)),e.next=17,this.getThreshold();case 17:if(!((y=e.sent)>t.signatures.size)){e.next=21;break}throw g=y-t.signatures.size,new Error("There ".concat(g>1?"are":"is"," ").concat(g," signature").concat(g>1?"s":""," missing"));case 21:if((x=w.BigNumber.from(t.data.value)).isZero()){e.next=28;break}return e.next=25,this.getBalance();case 25:if(m=e.sent,!x.gt(w.BigNumber.from(m))){e.next=28;break}throw new Error("Not enough Ether funds");case 28:if(!(null===r||void 0===r?void 0:r.gas)||!(null===r||void 0===r?void 0:r.gasLimit)){e.next=30;break}throw new Error("Cannot specify gas and gasLimit together in transaction options");case 30:return e.next=32,p(this,a,"f").safeContract.execTransaction(t,u({from:v},r));case 32:return k=e.sent,e.abrupt("return",k);case 34:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"create",value:function(){var t=d(c.mark((function t(r){var n,a,s,i,o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.ethAdapter,a=r.safeAddress,s=r.isL1SafeMasterCopy,i=r.contractNetworks,o=new e,t.next=4,o.init({ethAdapter:n,safeAddress:a,isL1SafeMasterCopy:s,contractNetworks:i});case 4:return t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();n=new WeakMap,a=new WeakMap,s=new WeakMap,i=new WeakMap,t.default=T},94377:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.safeDeploymentsL1ChainIds=t.safeDeploymentsVersions=t.SAFE_BASE_VERSION=t.SAFE_LAST_VERSION=void 0,t.SAFE_LAST_VERSION="1.3.0",t.SAFE_BASE_VERSION="1.1.1",t.safeDeploymentsVersions={"1.3.0":{safeMasterCopyVersion:"1.3.0",safeMasterCopyL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",multiSendVersion:"1.3.0"},"1.2.0":{safeMasterCopyVersion:"1.2.0",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"},"1.1.1":{safeMasterCopyVersion:"1.1.1",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"}},t.safeDeploymentsL1ChainIds=[1]},79735:function(e,t,r){var n=r(87757),a=r(48926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiSendContract=t.getProxyFactoryContract=t.getSafeContract=t.getSafeProxyFactoryContractDeployment=t.getMultiSendContractDeployment=t.getSafeContractDeployment=void 0;var s=r(60504),i=r(94377);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=i.safeDeploymentsVersions[e].safeMasterCopyVersion,a={version:n,network:t.toString(),released:!0};return i.safeDeploymentsL1ChainIds.includes(t)||r?(0,s.getSafeSingletonDeployment)(a):(0,s.getSafeL2SingletonDeployment)(a)}function u(e,t){var r=i.safeDeploymentsVersions[e].multiSendVersion;return(0,s.getMultiSendDeployment)({version:r,network:t.toString(),released:!0})}function c(e,t){var r=i.safeDeploymentsVersions[e].safeProxyFactoryVersion;return(0,s.getProxyFactoryDeployment)({version:r,network:t.toString(),released:!0})}function d(){return(d=a(n.mark((function e(t){var r,a,s,i,u,c,d,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,a=t.safeVersion,s=t.chainId,i=t.customSafeAddress,u=t.isL1SafeMasterCopy,c=t.customContracts,d=o(a,s,u),f=r.getSafeContract({safeVersion:a,chainId:s,singletonDeployment:d,customContractAddress:null!==i&&void 0!==i?i:null===c||void 0===c?void 0:c.safeMasterCopyAddress,customContractAbi:null===c||void 0===c?void 0:c.safeMasterCopyAbi}),e.next=5,r.isContractDeployed(f.getAddress());case 5:if(e.sent){e.next=8;break}throw new Error("Safe Proxy contract is not deployed on the current network");case 8:return e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=a(n.mark((function e(t){var r,a,s,i,o,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,a=t.safeVersion,s=t.chainId,i=t.customContracts,o=c(a,s),e.next=4,r.getSafeProxyFactoryContract({safeVersion:a,chainId:s,singletonDeployment:o,customContractAddress:null===i||void 0===i?void 0:i.safeProxyFactoryAddress,customContractAbi:null===i||void 0===i?void 0:i.safeProxyFactoryAbi});case 4:return u=e.sent,e.next=7,r.isContractDeployed(u.getAddress());case 7:if(e.sent){e.next=10;break}throw new Error("Safe Proxy Factory contract is not deployed on the current network");case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=a(n.mark((function e(t){var r,a,s,i,o,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,a=t.safeVersion,s=t.chainId,i=t.customContracts,o=u(a,s),e.next=4,r.getMultiSendContract({safeVersion:a,chainId:s,singletonDeployment:o,customContractAddress:null===i||void 0===i?void 0:i.multiSendAddress,customContractAbi:null===i||void 0===i?void 0:i.multiSendAbi});case 4:return c=e.sent,e.next=7,r.isContractDeployed(c.getAddress());case 7:if(e.sent){e.next=10;break}throw new Error("Multi Send contract is not deployed on the current network");case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSafeContractDeployment=o,t.getMultiSendContractDeployment=u,t.getSafeProxyFactoryContractDeployment=c,t.getSafeContract=function(e){return d.apply(this,arguments)},t.getProxyFactoryContract=function(e){return f.apply(this,arguments)},t.getMultiSendContract=function(e){return l.apply(this,arguments)}},16280:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.standardizeSafeTransactionData=t.EthSignSignature=t.SafeFactory=t.ContractManager=void 0;var a=n(r(59863));t.ContractManager=a.default;var s=n(r(49204)),i=n(r(17795));t.SafeFactory=i.default;var o=n(r(84889));t.EthSignSignature=o.default;var u=r(75443);Object.defineProperty(t,"standardizeSafeTransactionData",{enumerable:!0,get:function(){return u.standardizeSafeTransactionData}}),t.default=s.default},59863:function(e,t,r){var n,a,s,i,o=r(87757),u=r(48926).default,c=r(34575).default,d=r(93913).default,f=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},l=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var h=r(94377),p=r(79735),v=function(){function e(){c(this,e),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),i.set(this,void 0)}return d(e,[{key:"init",value:function(){var e=u(o.mark((function e(t){var r,u,c,d,l,v,w,y;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,u=t.safeAddress,c=t.isL1SafeMasterCopy,d=t.contractNetworks,e.next=3,r.getChainId();case 3:return l=e.sent,v=null===d||void 0===d?void 0:d[l],f(this,n,d,"f"),f(this,a,c,"f"),e.next=9,(0,p.getSafeContract)({ethAdapter:r,safeVersion:h.SAFE_LAST_VERSION,chainId:l,isL1SafeMasterCopy:c,customSafeAddress:u,customContracts:v});case 9:return w=e.sent,e.next=12,w.getVersion();case 12:return y=e.sent,e.t0=f,e.t1=this,e.t2=s,e.next=18,(0,p.getSafeContract)({ethAdapter:r,safeVersion:y,chainId:l,isL1SafeMasterCopy:c,customSafeAddress:u,customContracts:v});case 18:return e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3,"f"),e.t4=f,e.t5=this,e.t6=i,e.next=25,(0,p.getMultiSendContract)({ethAdapter:r,safeVersion:y,chainId:l,customContracts:v});case 25:e.t7=e.sent,(0,e.t4)(e.t5,e.t6,e.t7,"f");case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"contractNetworks",get:function(){return l(this,n,"f")}},{key:"isL1SafeMasterCopy",get:function(){return l(this,a,"f")}},{key:"safeContract",get:function(){return l(this,s,"f")}},{key:"multiSendContract",get:function(){return l(this,i,"f")}}],[{key:"create",value:function(){var t=u(o.mark((function t(r){var n,a,s,i,u;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.ethAdapter,a=r.safeAddress,s=r.isL1SafeMasterCopy,i=r.contractNetworks,u=new e,t.next=4,u.init({ethAdapter:n,safeAddress:a,isL1SafeMasterCopy:s,contractNetworks:i});case 4:return t.abrupt("return",u);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();n=new WeakMap,a=new WeakMap,s=new WeakMap,i=new WeakMap,t.default=v},54424:function(e,t,r){var n,a,s=r(87757),i=r(48926).default,o=r(34575).default,u=r(93913).default,c=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},d=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var f=r(88781),l=r(3629),h=function(){function e(t,r){o(this,e),n.set(this,void 0),a.set(this,void 0),c(this,n,t,"f"),c(this,a,r,"f")}return u(e,[{key:"validateModuleAddress",value:function(e){if(!d(this,n,"f").isAddress(e)||(0,f.isRestrictedAddress)(e))throw new Error("Invalid module address provided")}},{key:"validateModuleIsNotEnabled",value:function(e,t){if(t.findIndex((function(t){return(0,f.sameString)(t,e)}))>=0)throw new Error("Module provided is already enabled")}},{key:"validateModuleIsEnabled",value:function(e,t){var r=t.findIndex((function(t){return(0,f.sameString)(t,e)}));if(!(r>=0))throw new Error("Module provided is not enabled already");return r}},{key:"getModules",value:function(){var e=i(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(this,a,"f").getModules());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isModuleEnabled",value:function(){var e=i(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(this,a,"f").isModuleEnabled(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"encodeEnableModuleData",value:function(){var e=i(s.mark((function e(t){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateModuleAddress(t),e.next=3,this.getModules();case 3:return r=e.sent,this.validateModuleIsNotEnabled(t,r),e.abrupt("return",d(this,a,"f").encode("enableModule",[t]));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"encodeDisableModuleData",value:function(){var e=i(s.mark((function e(t){var r,n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateModuleAddress(t),e.next=3,this.getModules();case 3:return r=e.sent,n=this.validateModuleIsEnabled(t,r),i=0===n?l.SENTINEL_ADDRESS:r[n-1],e.abrupt("return",d(this,a,"f").encode("disableModule",[i,t]));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n=new WeakMap,a=new WeakMap,t.default=h},87691:function(e,t,r){var n,a,s=r(87757),i=r(319).default,o=r(48926).default,u=r(34575).default,c=r(93913).default,d=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},f=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});var l=r(88781),h=r(3629),p=function(){function e(t,r){u(this,e),n.set(this,void 0),a.set(this,void 0),d(this,n,t,"f"),d(this,a,r,"f")}return c(e,[{key:"validateOwnerAddress",value:function(e,t){if(!f(this,n,"f").isAddress(e)||(0,l.isRestrictedAddress)(e))throw new Error(t||"Invalid owner address provided")}},{key:"validateThreshold",value:function(e,t){if(e<=0)throw new Error("Threshold needs to be greater than 0");if(e>t)throw new Error("Threshold cannot exceed owner count")}},{key:"validateAddressIsNotOwner",value:function(e,t,r){if(t.findIndex((function(t){return(0,l.sameString)(t,e)}))>=0)throw new Error(r||"Address provided is already an owner")}},{key:"validateAddressIsOwner",value:function(e,t,r){var n=t.findIndex((function(t){return(0,l.sameString)(t,e)}));if(!(n>=0))throw new Error(r||"Address provided is not an owner");return n}},{key:"getOwners",value:function(){var e=o(s.mark((function e(){var t;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(this,a,"f").getOwners();case 2:return t=e.sent,e.abrupt("return",i(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getThreshold",value:function(){var e=o(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(this,a,"f").getThreshold());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isOwner",value:function(){var e=o(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(this,a,"f").isOwner(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"encodeAddOwnerWithThresholdData",value:function(){var e=o(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateOwnerAddress(t),e.next=3,this.getOwners();case 3:if(n=e.sent,this.validateAddressIsNotOwner(t,n),null===r||void 0===r){e.next=9;break}e.t0=r,e.next=12;break;case 9:return e.next=11,this.getThreshold();case 11:e.t0=e.sent;case 12:return i=e.t0,this.validateThreshold(i,n.length+1),e.abrupt("return",f(this,a,"f").encode("addOwnerWithThreshold",[t,i]));case 15:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"encodeRemoveOwnerData",value:function(){var e=o(s.mark((function e(t,r){var n,i,o,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateOwnerAddress(t),e.next=3,this.getOwners();case 3:if(n=e.sent,i=this.validateAddressIsOwner(t,n),null===r||void 0===r){e.next=9;break}e.t0=r,e.next=13;break;case 9:return e.next=11,this.getThreshold();case 11:e.t1=e.sent,e.t0=e.t1-1;case 13:return o=e.t0,this.validateThreshold(o,n.length-1),u=0===i?h.SENTINEL_ADDRESS:n[i-1],e.abrupt("return",f(this,a,"f").encode("removeOwner",[u,t,o]));case 17:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"encodeSwapOwnerData",value:function(){var e=o(s.mark((function e(t,r){var n,i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateOwnerAddress(r,"Invalid new owner address provided"),this.validateOwnerAddress(t,"Invalid old owner address provided"),e.next=4,this.getOwners();case 4:return n=e.sent,this.validateAddressIsNotOwner(r,n,"New address provided is already an owner"),i=this.validateAddressIsOwner(t,n,"Old address provided is not an owner"),o=0===i?h.SENTINEL_ADDRESS:n[i-1],e.abrupt("return",f(this,a,"f").encode("swapOwner",[o,t,r]));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"encodeChangeThresholdData",value:function(){var e=o(s.mark((function e(t){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOwners();case 2:return r=e.sent,this.validateThreshold(t,r.length),e.abrupt("return",f(this,a,"f").encode("changeThreshold",[t]));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n=new WeakMap,a=new WeakMap,t.default=p},17795:function(e,t,r){var n,a,s,i,o,u,c=r(81109).default,d=r(87757),f=r(48926).default,l=r(34575).default,h=r(93913).default,p=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},v=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},w=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var y=r(94377),g=r(79735),x=w(r(49204)),m=r(3629),k=r(23696),S=function(){function e(){l(this,e),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),i.set(this,void 0),o.set(this,void 0),u.set(this,void 0)}return h(e,[{key:"init",value:function(){var e=f(d.mark((function e(t){var r,c,f,l,h,w;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ethAdapter,c=t.safeVersion,f=t.isL1SafeMasterCopy,l=t.contractNetworks,p(this,i,r,"f"),p(this,s,c,"f"),p(this,a,f,"f"),p(this,n,l,"f"),e.next=7,v(this,i,"f").getChainId();case 7:return h=e.sent,w=null===l||void 0===l?void 0:l[h],e.t0=p,e.t1=this,e.t2=o,e.next=14,(0,g.getProxyFactoryContract)({ethAdapter:r,safeVersion:c,chainId:h,customContracts:w});case 14:return e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3,"f"),e.t4=p,e.t5=this,e.t6=u,e.next=21,(0,g.getSafeContract)({ethAdapter:r,safeVersion:c,chainId:h,isL1SafeMasterCopy:f,customContracts:w});case 21:e.t7=e.sent,(0,e.t4)(e.t5,e.t6,e.t7,"f");case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEthAdapter",value:function(){return v(this,i,"f")}},{key:"getSafeVersion",value:function(){return v(this,s,"f")}},{key:"getAddress",value:function(){return v(this,o,"f").getAddress()}},{key:"getChainId",value:function(){var e=f(d.mark((function e(){return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(this,i,"f").getChainId());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"encodeSetupCallData",value:function(){var e=f(d.mark((function e(t){var r,n,a,s,i,o,c,f,l,h,p,w,y,g;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.owners,n=t.threshold,a=t.to,s=void 0===a?m.ZERO_ADDRESS:a,i=t.data,o=void 0===i?m.EMPTY_DATA:i,c=t.fallbackHandler,f=void 0===c?m.ZERO_ADDRESS:c,l=t.paymentToken,h=void 0===l?m.ZERO_ADDRESS:l,p=t.payment,w=void 0===p?0:p,y=t.paymentReceiver,g=void 0===y?m.ZERO_ADDRESS:y,e.abrupt("return",v(this,u,"f").encode("setup",[r,n,s,o,f,h,w,g]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deploySafe",value:function(){var e=f(d.mark((function e(t){var r,s,f,l,h,p,w,y,g,m;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.safeAccountConfig,s=t.safeDeploymentConfig,f=t.options,l=t.callback,(0,k.validateSafeAccountConfig)(r),e.next=4,v(this,i,"f").getSignerAddress();case 4:return p=e.sent,e.next=7,this.encodeSetupCallData(r);case 7:if(w=e.sent,y=null!==(h=null===s||void 0===s?void 0:s.saltNonce)&&void 0!==h?h:1e3*Date.now()+Math.floor(1e3*Math.random()),!(null===f||void 0===f?void 0:f.gas)||!(null===f||void 0===f?void 0:f.gasLimit)){e.next=11;break}throw new Error("Cannot specify gas and gasLimit together in transaction options");case 11:return e.next=13,v(this,o,"f").createProxy({safeMasterCopyAddress:v(this,u,"f").getAddress(),initializer:w,saltNonce:y,options:c({from:p},f),callback:l});case 13:return g=e.sent,e.next=16,v(this,i,"f").isContractDeployed(g);case 16:if(e.sent){e.next=19;break}throw new Error("Safe Proxy contract is not deployed on the current network");case 19:return e.next=21,x.default.create({ethAdapter:v(this,i,"f"),safeAddress:g,isL1SafeMasterCopy:v(this,a,"f"),contractNetworks:v(this,n,"f")});case 21:return m=e.sent,e.abrupt("return",m);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"create",value:function(){var t=f(d.mark((function t(r){var n,a,s,i,o,u,c;return d.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.ethAdapter,a=r.safeVersion,s=void 0===a?y.SAFE_LAST_VERSION:a,i=r.isL1SafeMasterCopy,o=void 0!==i&&i,u=r.contractNetworks,c=new e,t.next=4,c.init({ethAdapter:n,safeVersion:s,isL1SafeMasterCopy:o,contractNetworks:u});case 4:return t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();n=new WeakMap,a=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap,u=new WeakMap,t.default=S},23696:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSafeAccountConfig=void 0;t.validateSafeAccountConfig=function(e){var t=e.owners,r=e.threshold;if(t.length<=0)throw new Error("Owner list must have at least one owner");if(r<=0)throw new Error("Threshold must be greater than or equal to 1");if(r>t.length)throw new Error("Threshold must be lower than or equal to owners length")}},3629:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SENTINEL_ADDRESS=t.EMPTY_DATA=t.ZERO_ADDRESS=void 0,t.ZERO_ADDRESS="0x".concat("0".repeat(40)),t.EMPTY_DATA="0x",t.SENTINEL_ADDRESS="0x0000000000000000000000000000000000000001"},88781:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isMetaTransactionArray=t.isRestrictedAddress=t.sameString=void 0;var n=r(3629);t.sameString=function(e,t){return e.toLowerCase()===t.toLowerCase()},t.isRestrictedAddress=function(e){return function(e){return e===n.ZERO_ADDRESS}(e)||function(e){return e===n.SENTINEL_ADDRESS}(e)},t.isMetaTransactionArray=function(e){return void 0!==(null===e||void 0===e?void 0:e.length)}},60598:function(e,t,r){var n=r(59713).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hasFeature=t.enabledFeatures=t.FEATURES=void 0;var s,i=a(r(52529));!function(e){e[e.SAFE_TX_GAS_OPTIONAL=0]="SAFE_TX_GAS_OPTIONAL"}(s=t.FEATURES||(t.FEATURES={}));var o=n({},s.SAFE_TX_GAS_OPTIONAL,">=1.3.0");t.enabledFeatures=function(e){return Object.values(s).filter((function(t){return function(e,t){return!(e in o)||(0,i.default)(t,o[e])}(t,e)}))};t.hasFeature=function(e,r){return(0,t.enabledFeatures)(r).includes(e)}},84889:function(e,t,r){var n=r(34575).default,a=r(93913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t,r){n(this,e),this.signer=t,this.data=r}return a(e,[{key:"staticPart",value:function(){return this.data}},{key:"dynamicPart",value:function(){return""}}]),e}();t.default=s},28079:function(e,t,r){var n=r(87757),a=r(48926).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateSignature=t.adjustVInSignature=t.isTxHashSignedWithPrefix=t.generatePreValidatedSignature=void 0;var i=r(70927),o=r(88781),u=s(r(84889));function c(e,t,r){var n;try{var a={r:Buffer.from(t.slice(2,66),"hex"),s:Buffer.from(t.slice(66,130),"hex"),v:parseInt(t.slice(130,132),16)},s=(0,i.ecrecover)(Buffer.from(e.slice(2),"hex"),a.v,a.r,a.s),u=(0,i.bufferToHex)((0,i.pubToAddress)(s));n=!(0,o.sameString)(u,r)}catch(c){n=!0}return n}function d(e,t){var r=parseInt(e.slice(-2),16);if(![0,1,27,28].includes(r))throw new Error("Invalid signature");return r<27&&(r+=27),t&&(r+=4),e=e.slice(0,-2)+r.toString(16)}function f(){return(f=a(n.mark((function e(t,r){var a,s,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSignerAddress();case 2:return a=e.sent,e.next=5,t.signMessage(r);case 5:return s=e.sent,i=c(r,s,a),s=d(s,i),e.abrupt("return",new u.default(a,s));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.generatePreValidatedSignature=function(e){var t="0x000000000000000000000000"+e.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new u.default(e,t)},t.isTxHashSignedWithPrefix=c,t.adjustVInSignature=d,t.generateSignature=function(e,t){return f.apply(this,arguments)}},31702:function(e,t,r){var n=r(34575).default,a=r(93913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){n(this,e),this.signatures=new Map,this.data=t}return a(e,[{key:"addSignature",value:function(e){this.signatures.set(e.signer.toLowerCase(),e)}},{key:"encodedSignatures",value:function(){var e=this,t=Array.from(this.signatures.keys()).sort(),r=(t.length,""),n="";return t.forEach((function(t){var a=e.signatures.get(t);r+=null===a||void 0===a?void 0:a.staticPart().slice(2),n+=null===a||void 0===a?void 0:a.dynamicPart()})),"0x"+r+n}}]),e}();t.default=s},51062:function(e,t,r){var n=r(87757),a=r(48926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.estimateTxGas=void 0;var s=r(59594),i=r(51935);function o(e){return e.match(/.{2}/g).reduce((function(e,t){return"0x"===t?e+0:"00"===t?e+4:e+16}),0)}function u(){return(u=a(n.mark((function e(t,r,a,u,c,d){var f,l,h,p,v,w,y,g;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=0,l=t.getAddress(),h=t.encode("requiredTxGas",[a,u,c,d]),e.prev=3,e.next=6,r.estimateGas({to:l,from:l,data:h});case 6:p=e.sent.toString(),f=s.BigNumber.from("0x"+p.substring(138)).toNumber()+1e4,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:if(!(f>0)){e.next=33;break}v=o(h),w=1e4,y=0;case 16:if(!(y<10)){e.next=32;break}return e.prev=17,e.next=20,r.call({to:l,from:l,data:h,gasPrice:0,gasLimit:f+v+w});case 20:if("0x"===e.sent){e.next=23;break}return e.abrupt("break",32);case 23:e.next=27;break;case 25:e.prev=25,e.t1=e.catch(17);case 27:f+=w,w*=2;case 29:y++,e.next=16;break;case 32:return e.abrupt("return",f+w);case 33:return e.prev=33,e.next=36,r.estimateGas({to:a,from:l,value:u,data:c});case 36:return g=e.sent,e.abrupt("return",g);case 40:if(e.prev=40,e.t2=e.catch(33),d!==i.OperationType.DelegateCall){e.next=44;break}return e.abrupt("return",0);case 44:return e.abrupt("return",Promise.reject(e.t2));case 45:case"end":return e.stop()}}),e,null,[[3,10],[17,25],[33,40]])})))).apply(this,arguments)}t.estimateTxGas=function(e,t,r,n,a,s){return u.apply(this,arguments)}},75443:function(e,t,r){var n=r(87757),a=r(48926).default,s=r(81109).default;Object.defineProperty(t,"__esModule",{value:!0}),t.encodeMultiSendData=t.standardizeSafeTransactionData=t.standardizeMetaTransactionData=void 0;var i=r(49716),o=r(84530),u=r(51935),c=r(3629),d=r(60598),f=r(51062);function l(){return(l=a(n.mark((function e(t,r,a){var i,o,l,h,p,v,w,y;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.to,e.t1=a.value,e.t2=a.data,e.t3=null!==(i=a.operation)&&void 0!==i?i:u.OperationType.Call,e.t4=null!==(o=a.baseGas)&&void 0!==o?o:0,e.t5=null!==(l=a.gasPrice)&&void 0!==l?l:0,e.t6=a.gasToken||c.ZERO_ADDRESS,e.t7=a.refundReceiver||c.ZERO_ADDRESS,null===(h=a.nonce)||void 0===h){e.next=12;break}e.t8=h,e.next=15;break;case 12:return e.next=14,t.getNonce();case 14:e.t8=e.sent;case 15:return e.t9=e.t8,v={to:e.t0,value:e.t1,data:e.t2,operation:e.t3,baseGas:e.t4,gasPrice:e.t5,gasToken:e.t6,refundReceiver:e.t7,nonce:e.t9},e.next=19,t.getVersion();case 19:if(y=e.sent,!(0,d.hasFeature)(d.FEATURES.SAFE_TX_GAS_OPTIONAL,y)||0!==v.gasPrice){e.next=24;break}w=0,e.next=32;break;case 24:if(null===(p=a.safeTxGas)||void 0===p){e.next=28;break}e.t10=p,e.next=31;break;case 28:return e.next=30,(0,f.estimateTxGas)(t,r,v.to,v.value,v.data,v.operation);case 30:e.t10=e.sent;case 31:w=e.t10;case 32:return e.abrupt("return",s(s({},v),{},{safeTxGas:w}));case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.standardizeMetaTransactionData=function(e){var t;return s(s({},e),{},{operation:null!==(t=e.operation)&&void 0!==t?t:u.OperationType.Call})},t.standardizeSafeTransactionData=function(e,t,r){return l.apply(this,arguments)},t.encodeMultiSendData=function(e){return"0x"+e.map((function(e){return function(e){var t=(0,i.arrayify)(e.data);return(0,o.pack)(["uint8","address","uint256","uint256","bytes"],[e.operation,e.to,e.value,t.length,t]).slice(2)}(e)})).join("")}}}]);
//# sourceMappingURL=280.5e68d05b.chunk.js.map